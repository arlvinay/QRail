/* --- Animation & General Styles --- */
@keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes shimmer { 0% { background-position: -468px 0; } 100% { background-position: 468px 0; } }

:root { 
    --bg-dark: #111827; 
    --bg-medium: #1F2937; 
    --bg-light: #374151; 
    --text-primary: #F9FAFB; 
    --text-secondary: #9CA3AF; 
    --accent-blue: #4F46E5; 
    --accent-green: #34D399; 
    --accent-yellow: #F59E0B; 
    --accent-red: #EF4444;
}
body { 
    margin: 0; 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif; 
    background-color: var(--bg-dark); 
    color: var(--text-primary); 
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Main Dashboard Layout --- */
.app-container { display: flex; height: 100vh; }
.sidebar { width: 250px; background-color: var(--bg-medium); padding: 1.5rem 1rem; border-right: 1px solid var(--bg-light); }
.sidebar-header { margin-bottom: 2rem; }
.sidebar-title { font-size: 1.5rem; font-weight: bold; }
.nav-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 0.5rem; }
.nav-item a { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 0.375rem; text-decoration: none; color: var(--text-secondary); font-weight: 500; transition: background-color 0.2s, color 0.2s; }
.nav-item a:hover { background-color: var(--bg-light); color: var(--text-primary); }
.nav-item a.active { background-color: var(--accent-blue); color: white; }
.main-content { flex: 1; padding: 2rem; overflow-y: auto; }
.page-header { font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5rem; }

/* --- Card & Grid System --- */
.card { background-color: var(--bg-medium); border-radius: 0.5rem; border: 1px solid var(--bg-light); opacity: 0; animation: slideInUp 0.5s ease-out forwards; transition: transform 0.2s, box-shadow 0.2s; }
.card:hover { transform: translateY(-5px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
.card-header { padding: 1rem 1.5rem; font-weight: 600; border-bottom: 1px solid var(--bg-light); display: flex; justify-content: space-between; align-items: center; }
.card-content { padding: 1.5rem; }
.card-grid-four, .card-grid-three, .card-grid-two { display: grid; gap: 1.5rem; margin-bottom: 1.5rem; }
.card-grid-four { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
.card-grid-three { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
.card-grid-two { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); }
.card-grid-single, .card-grid-map { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-bottom: 1.5rem; }

/* --- Specific Components Styling --- */
.summary-card { padding: 1.5rem; text-align: center; }
.summary-card h3 { font-size: 2.5rem; font-weight: bold; }
.summary-card p { color: var(--text-secondary); margin-top: 0.5rem; }
.data-table { width: 100%; border-collapse: collapse; }
.data-table tr { transition: background-color 0.2s; }
.data-table tr:hover { background-color: var(--bg-light); }
.data-table th, .data-table td { padding: 0.75rem 1rem; text-align: center; border-bottom: 1px solid var(--bg-light); }
.data-table th { font-weight: 600; color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; }
.status-pill { padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: bold; }
.status-critical { background-color: #450a0a; color: #f87171; }
.status-low { background-color: #422006; color: #fb923c; }
.status-normal { background-color: #064e3b; color: #6ee7b7; }
.component-pill { background-color: var(--bg-light); padding: 0.25rem 0.75rem; border-radius: 0.375rem; font-size: 0.8rem; }
.chart-container { height: 300px; }
.chart-container-loader { height: 300px; padding: 1.5rem; }
.skeleton-loader { width: 100%; height: 100%; background: linear-gradient(to right, var(--bg-light) 8%, #4B5563 18%, var(--bg-light) 33%); background-size: 800px 104px; animation: shimmer 1.5s infinite linear; border-radius: 0.5rem; }
.pill-red { background-color: var(--accent-red); color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; }
.pill-orange { background-color: var(--accent-yellow); color: var(--bg-dark); padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; }
.pill-blue { background-color: var(--accent-blue); color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; }
.pill-red.small, .pill-orange.small, .pill-blue.small { padding: 2px 6px; font-size: 0.75rem; }
.insight-summary { display: flex; align-items: baseline; gap: 0.5rem; margin-bottom: 1rem; }
.insight-count { font-size: 2rem; font-weight: bold; }
.insight-label { font-size: 1rem; color: var(--text-secondary); }
.insight-list { display: flex; flex-direction: column; gap: 0.5rem; }
.insight-item { display: flex; justify-content: space-between; align-items: center; background-color: var(--bg-dark); padding: 0.5rem 1rem; border-radius: 4px; }
.gis-map { height: 400px; display:flex; align-items: center; justify-content: center; }
.gis-placeholder { text-align: center; color: var(--text-secondary); }
.gis-icon { margin-bottom: 1rem; }
.trend-cell { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
.rank-pill { display: inline-block; width: 24px; height: 24px; line-height: 24px; border-radius: 50%; color: var(--text-primary); font-weight: bold; text-align: center; }
.rank-1 { background-color: #D97706; }
.rank-2 { background-color: #6B7280; }
.rank-3 { background-color: #854D0E; }
.rank-4 { background-color: var(--bg-light); }
.report-form { display: flex; flex-direction: column; gap: 1rem; }
.report-form label { font-weight: 500; margin-bottom: -0.5rem; color: var(--text-secondary); }
.report-form input, .report-form select { background-color: var(--bg-dark); border: 1px solid var(--bg-light); color: var(--text-primary); padding: 0.75rem; border-radius: 4px; }
.report-form button { background-color: var(--accent-blue); color: white; padding: 0.75rem; border-radius: 4px; border: none; font-weight: bold; cursor: pointer; transition: background-color 0.2s; }
.report-form button:hover { background-color: #4338CA; }
.date-inputs { display: flex; gap: 1rem; }
.date-inputs > div { flex: 1; display: flex; flex-direction: column; gap: 1rem; }
.alerts-feed { height: 320px; overflow-y: auto; padding-right: 10px; }
.alert-item { background-color: var(--bg-dark); padding: 1rem; border-radius: 4px; border-left: 4px solid var(--accent-red); margin-bottom: 1rem; }
.alert-item[data-severity="Warning"] { border-left-color: var(--accent-yellow); }
.alert-item[data-severity="Info"] { border-left-color: var(--accent-blue); }
.alert-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem; }
.alert-type { font-weight: bold; }
.alert-time { margin-left: auto; font-size: 0.8rem; color: var(--text-secondary); }
.system-health-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; text-align: center; }
.health-metric span { display: block; font-size: 2.5rem; font-weight: bold; }
.health-metric { color: var(--text-secondary); }
.integration-status { display: flex; flex-direction: column; gap: 0.75rem; color: var(--text-secondary); }
.status-connected { color: var(--accent-green); font-weight: bold; }
.uptime-bar { width: 100%; background-color: var(--bg-light); border-radius: 4px; overflow: hidden; height: 20px; }
.uptime-bar div { height: 100%; background-color: var(--accent-green); color: var(--bg-dark); font-size: 0.8rem; font-weight: bold; display: flex; align-items: center; justify-content: center; }
.header-dropdown { background-color: var(--bg-light); color: var(--text-primary); border: 1px solid var(--bg-light); border-radius: 4px; padding: 4px 8px; font-size: 0.9rem; }

/* --- Component Report Page Styles --- */
body.report-theme-dark {
    background-color: var(--bg-dark) !important; /* Force dark background */
    color: var(--text-primary) !important; /* Force white text */
}

.report-page { padding: 2rem; }
.loading-message { text-align: center; padding: 2rem; font-size: 1.25rem; color: var(--text-primary); }
.report-header { text-align: center; margin-bottom: 1.5rem; }
.report-title { font-size: 1.875rem; font-weight: bold; color: var(--text-primary); }
.report-card { background-color: var(--bg-medium); max-width: 48rem; margin: auto; border-radius: 0.5rem; border: 1px solid var(--bg-light); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
.guid-section { border-bottom: 1px solid var(--bg-light); padding-bottom: 1rem; }
.detail-label { font-size: 0.875rem; color: var(--text-secondary); }
.guid-value { font-family: monospace; font-size: 1.125rem; word-break: break-all; }
.details-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
@media (min-width: 768px) { .details-grid { grid-template-columns: repeat(2, 1fr); } }
.detail-value-main { font-size: 1.25rem; font-weight: 600; }
.detail-value { font-size: 1.125rem; }
.section-header { font-size: 1.125rem; font-weight: 600; color: var(--text-secondary); padding-top: 1rem; border-top: 1px solid var(--bg-light); margin-top: 1rem; }
.status-badge { font-weight: 600; padding: 0.25rem 0.75rem; display: inline-block; border-radius: 9999px; }
.status-installed { background-color: #064e3b; color: #6ee7b7; }
.status-depot { background-color: #422006; color: #fb923c; }
.report-location { grid-column: 1 / -1; }
.error-card { text-align: center; padding: 2rem; background-color: var(--bg-medium); border-radius: 0.5rem; max-width: 48rem; margin: auto; }
.error-title { font-size: 1.5rem; font-weight: bold; color: var(--accent-red); }
.error-message { color: var(--text-secondary); margin-top: 0.5rem; }

